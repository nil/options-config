/*!
 * options-config v3.0.0
 * by Nil Vila
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("lodash.isnumber"),require("lodash.isequal"),require("lodash.includes")):"function"==typeof define&&define.amd?define(["lodash.isnumber","lodash.isequal","lodash.includes"],t):e.optionsConfig=t(e.isNumber,e.isEqual,e.includes)}(this,function(e,t,n){"use strict";function o(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;class i{constructor(e){this.name="options-config",this.message=e,this.stack=(new Error).stack}}function s(s,a,l){let f,u,c,d;const h=l[s],p=r(a,s)?a[s]:"value_not_defined";let g=h;return h&&(f=h.type,u=h.valid,c=h.range,d=h.regex,g=r(h,"default")?h.default:h),"value_not_defined"===p?g:function(e,t,n){if(n){if("string"===o(t)&&t.match(n)&&t.match(n)[0]===t)return!0;throw new i(`'${t}' doesn't match the Regex expression ${n} for '${e}'.`)}return!1}(s,p,d)?p:function(e,r,s){if(s){const a=s[o(r)]||s;if(a===r||n(a,r)||"all"===a)return!0;for(let e=0;e<a.length;e+=1)if(t(a[e],r))return!0;const l="array"===o(s)&&s.length>1?`${s.slice(0,-1).join(", ")} or ${s.slice(-1)}`:`${s}`;throw new i(`'${r}' doesn't match any of the valid values for '${e}' (${l}).`)}return!1}(s,p,u)?p:(function(e,t,n){const r=o(t);if(n&&!n.includes(r)){const s="array"===o(n)&&n.length>1?`${n.slice(0,-1).join(", ")} or ${n.slice(-1)}`:`${n}`;throw new i(`'${t}', ${r}, is not a valid data type for '${e}' (${s}).`)}}(s,p,f),function(t,n,o){if(o){const r=o.min,s=o.max,a=o.step;if(!e(r)&&void 0!==r||!e(s)&&void 0!==s||!e(a)&&void 0!==a)throw new i(`Range is not properly configured for '${t}'.`);if(r>n||s<n||a&&!Number.isInteger(((r||0)-n)/a))throw new i(`${n} doesn't fit the range specified for '${t}'.`)}}(s,p,c),p)}i.prototype=new Error;return class{constructor(e){this.defaults=e}validate(e,t=this.defaults){const n={};for(const i in t)if(r(t,i)){let a,l,f,u,c=t[i];if("object"!==o(c)||r(c,"default")&&"object"!==o(c.default))n[i]=s(i,e,t);else{n[i]={},c.default&&(a=c.type,l=c.valid,f=c.range,u=c.regex,c=c.default);for(const t in c)if(r(c,t)){"object"===o(c[t])&&(c[t].type=c[t].type||a,c[t].valid=c[t].valid||l,c[t].range=c[t].range||f,c[t].regex=c[t].regex||u);const r=e[i]||{};n[i][t]=s(t,r,c)}}}return n}}});
