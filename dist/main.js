!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("lodash.isequal"),require("lodash.includes")):"function"==typeof define&&define.amd?define(["lodash.isequal","lodash.includes"],t):e["options-config"]=t(e.isEqual,e.includes)}(this,function(e,t){"use strict";function r(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function o(o,n,a){const l=a[o],s=n[o],i=l.type,u=l.valid,c=l.range,f=l.match,d=l.default,h=`'${o}' now has its default value ('${d}').`;if(!s&&!1!==s&&0!==s)return d;if(f)return"string"===r(s)&&s.match(f)&&s.match(f)[0]===s?s:(console.error(`'${s}' doesn't match the RegExp expression for '${o}'.`),console.warn(h),d);if(u)return function(o,n){const a=n[r(o)]||n;if(a===o||t(a,o)||"all"===a)return!0;for(let t=0;t<a.length;t+=1)if(e(a[t],o))return!0;return!1}(s,u)?s:(console.error(`'${s}' is not a valid value for '${o}'.`),console.warn(h),d);if(i&&!i.includes(r(s))){const e="array"===r(i)?`${i.slice(0,-1).join(", ")} or ${i.slice(-1)}`:i;return console.error(`Data type for '${o}' should be ${e}, but not ${r(s)}.`),console.warn(h),d}return c&&(p=s,m=c.min,y=c.max,$=c.step,m>p||y<p||$&&!Number.isInteger(((m||0)-p)/$))?(console.error(`${s} is not a valid number for '${o}'.`),console.warn(h),d):s;var p,m,y,$}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;return class{constructor(e){this.defaults=e}validate(e,t=this.defaults){const n={};for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){let l,s,i,u,c=t[a];if(!c.default&&!1!==c.default&&0!==c.default||"object"===r(c.default)){n[a]={},c.default&&(l=c.type,s=c.valid,i=c.range,u=c.match,c=c.default);for(const t in c)Object.prototype.hasOwnProperty.call(c,t)&&(c[t].type=c[t].type||l,c[t].valid=c[t].valid||s,c[t].range=c[t].range||i,c[t].match=c[t].match||u,n[a][t]=o(t,e[a],c))}else n[a]=o(a,e,t)}return n}}});
