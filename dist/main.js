/*!
 * options-config v2.0.2
 * by Nil Vila
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("lodash.isnumber"),require("lodash.isequal"),require("lodash.includes")):"function"==typeof define&&define.amd?define(["lodash.isnumber","lodash.isequal","lodash.includes"],e):t.optionsConfig=e(t.isNumber,t.isEqual,t.includes)}(this,function(t,e,n){"use strict";function r(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;class o{constructor(t){this.name="options-config",this.message=t,this.stack=(new Error).stack}}function i(e,n,r){if(r){const i=r.min,a=r.max,s=r.step;if(!t(i)&&void 0!==i||!t(a)&&void 0!==a||!t(s)&&void 0!==s)throw new o(`Range is not properly configured for '${e}'.`);if(!function(t,e,n,r){return!(e>t||n<t||r&&!Number.isInteger(((e||0)-t)/r))}(n,i,a,s))throw new o(`${n} doesn't fit the range specified for '${e}'.`)}return!1}function a(t,i,a,s){if(a){if(function(t,o){const i=o[r(t)]||o;if(i===t||n(i,t)||"all"===i)return!0;for(let n=0;n<i.length;n+=1)if(e(i[n],t))return!0;return!1}(i,a))return!0;const s="array"===r(a)&&a.length>1?`${a.slice(0,-1).join(", ")} or ${a.slice(-1)}`:`${a}`;throw new o(`'${i}' doesn't match any of the valid values for '${t}' (${s}).`)}return!1}function s(t,e,n){const s=n[t],u=e[t],f=s.type,l=s.valid,c=s.range,d=s.match,h=s.default;return function(t){return!t&&!1!==t&&0!==t}(u)?h:function(t,e,n){if(n){if("string"===r(e)&&e.match(n)&&e.match(n)[0]===e)return!0;throw new o(`'${e}' doesn't match the RegExp expression ${n} for '${t}'.`)}return!1}(t,u,d)?u:a(t,u,l)?u:(function(t,e,n){const i=r(e);if(n&&!n.includes(i)){const a="array"===r(n)&&n.length>1?`${n.slice(0,-1).join(", ")} or ${n.slice(-1)}`:`${n}`;throw new o(`'${e}', ${i}, is not a valid data type for '${t}' (${a}).`)}}(t,u,f),i(t,u,c),u)}o.prototype=new Error;return class{constructor(t){this.defaults=t}validate(t,e=this.defaults){const n={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){let i,a,u,f,l=e[o];if(!l.default&&!1!==l.default&&0!==l.default||"object"===r(l.default)){n[o]={},l.default&&(i=l.type,a=l.valid,u=l.range,f=l.match,l=l.default);for(const e in l)Object.prototype.hasOwnProperty.call(l,e)&&(l[e].type=l[e].type||i,l[e].valid=l[e].valid||a,l[e].range=l[e].range||u,l[e].match=l[e].match||f,n[o][e]=s(e,t[o],l))}else n[o]=s(o,t,e)}return n}}});
