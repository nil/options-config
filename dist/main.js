/*!
 * options-config v2.0.0
 * by Nil Vila
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("lodash.isequal"),require("lodash.includes")):"function"==typeof define&&define.amd?define(["lodash.isequal","lodash.includes"],e):t.optionsConfig=e(t.isEqual,t.includes)}(this,function(t,e){"use strict";function n(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;class r{constructor(t){this.name="options-config",this.message=t,this.stack=(new Error).stack}}function o(t,e,n){if(n&&(o=e,a=n.min,i=n.max,s=n.step,a>o||i<o||s&&!Number.isInteger(((a||0)-o)/s)))throw new r(`${e} doesn't fit the range specified for '${t}'.`);var o,a,i,s}function a(o,a,i,s){if(i){if(function(r,o){const a=o[n(r)]||o;if(a===r||e(a,r)||"all"===a)return!0;for(let e=0;e<a.length;e+=1)if(t(a[e],r))return!0;return!1}(a,i))return a;const s="array"===n(i)&&i.length>1?`${i.slice(0,-1).join(", ")} or ${i.slice(-1)}`:`${i}`;throw new r(`'${a}' doesn't match any of the valid values for '${o}' (${s}).`)}return!1}function i(t,e,i){const s=i[t],c=e[t],l=s.type,f=s.valid,u=s.range,d=s.match;return function(t,e,n){return!e&&!1!==e&&0!==e&&n}(0,c,s.default)||function(t,e,o){if(o){if("string"===n(e)&&e.match(o)&&e.match(o)[0]===e)return e;throw new r(`'${e}' doesn't match the RegExp expression ${o} for '${t}'.`)}return!1}(t,c,d)||a(t,c,f)||function(t,e,o){const a=n(e);if(o&&!o.includes(a)){const i="array"===n(o)&&o.length>1?`${o.slice(0,-1).join(", ")} or ${o.slice(-1)}`:`${o}`;throw new r(`'${e}', ${a}, is not a valid data type for '${t}' (${i}).`)}}(t,c,l)||o(t,c,u)||c}r.prototype=new Error;return class{constructor(t){this.defaults=t}validate(t,e=this.defaults){const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){let a,s,c,l,f=e[o];if(!f.default&&!1!==f.default&&0!==f.default||"object"===n(f.default)){r[o]={},f.default&&(a=f.type,s=f.valid,c=f.range,l=f.match,f=f.default);for(const e in f)Object.prototype.hasOwnProperty.call(f,e)&&(f[e].type=f[e].type||a,f[e].valid=f[e].valid||s,f[e].range=f[e].range||c,f[e].match=f[e].match||l,r[o][e]=i(e,t[o],f))}else r[o]=i(o,t,e)}return r}}});
